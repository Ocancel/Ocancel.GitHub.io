(()=>{(function(t,n){function r(i,u){function c(){return x[Math.floor(Math.random()*x.length)]}function d(){return String.fromCharCode(94*Math.random()+33)}function b(g){let v=n.createDocumentFragment();for(let k=0;g>k;k++){let p=n.createElement("span");p.textContent=d(),p.style.color=c(),v.appendChild(p)}return v}function s(){let g=u[e.skillI];e.step?e.step--:(e.step=h,e.prefixP<l.length?(e.prefixP>=0&&(e.text+=l[e.prefixP]),e.prefixP++):e.direction==="forward"?e.skillP<g.length?(e.text+=g[e.skillP],e.skillP++):e.delay?e.delay--:(e.direction="backward",e.delay=o):e.skillP>0?(e.text=e.text.slice(0,-1),e.skillP--):(e.skillI=(e.skillI+1)%u.length,e.direction="forward")),i.textContent=e.text,i.appendChild(b(e.prefixP<l.length?Math.min(f,f+e.prefixP):Math.min(f,g.length-e.skillP))),setTimeout(s,y)}let l="",o=2,h=1,f=5,y=75,x=["rgb(110,64,170)","rgb(150,61,179)","rgb(191,60,175)","rgb(228,65,157)","rgb(254,75,131)","rgb(255,94,99)","rgb(255,120,71)","rgb(251,150,51)","rgb(226,183,47)","rgb(198,214,60)","rgb(175,240,91)","rgb(127,246,88)","rgb(82,246,103)","rgb(48,239,130)","rgb(29,223,163)","rgb(26,199,194)","rgb(35,171,216)","rgb(54,140,225)","rgb(76,110,219)","rgb(96,84,200)"],e={text:"",prefixP:-f,skillI:0,skillP:0,direction:"forward",delay:o,step:h};s()}let a=n.getElementById("brief"),m=a.textContent.split("\\n");r(a,m)})(window,document);function P(t,n,r){t.addEventListener?t.addEventListener(n,r,!1):t.attachEvent?t.attachEvent("on"+n,r):t["on"+n]=r}window.onload=()=>{var t,n=document.querySelector(".sentence-sub"),r=document.querySelector(".sentence-progress-time"),a=document.querySelector(".sentence-hi"),m=document.querySelector(".sentence-from"),i=[],u=new Date().getTime();c(),d(),l();function c(){t=new XMLHttpRequest,t.open("GET","https://v1.hitokoto.cn/"),t.send(),t.onreadystatechange=function(){if(t.readyState===4&&t.status===200){var o=JSON.parse(t.responseText);a.innerHTML=o.hitokoto,m.innerHTML="From "+o.from.substr(0,12)}}}function d(){a.style.color=n.style.background=r.style.background=b()}function b(){return"rgb("+s()+","+s()+","+s()+")"}function s(){return Math.floor(Math.random()*81+60)}function l(){i[i.length]=setInterval(function(){r.style.left=r.style.left=="0%"?"100%":"0%",c(),d(),u=new Date().getTime()},12e3)}P(n,"click",function(){for(var o=0;o<i.length;o++)clearInterval(i[o]);i=[],c(),l()}),setTimeout(function(){r.style.left="100%"},200)};})();
