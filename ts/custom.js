(()=>{(function(t,n){function r(u,i){function p(){return v[Math.floor(Math.random()*v.length)]}function a(){return String.fromCharCode(94*Math.random()+33)}function g(d){let x=n.createDocumentFragment();for(let y=0;d>y;y++){let h=n.createElement("span");h.textContent=a(),h.style.color=p(),x.appendChild(h)}return x}function f(){let d=i[e.skillI];e.step?e.step--:(e.step=o,e.prefixP<s.length?(e.prefixP>=0&&(e.text+=s[e.prefixP]),e.prefixP++):e.direction==="forward"?e.skillP<d.length?(e.text+=d[e.skillP],e.skillP++):e.delay?e.delay--:(e.direction="backward",e.delay=c):e.skillP>0?(e.text=e.text.slice(0,-1),e.skillP--):(e.skillI=(e.skillI+1)%i.length,e.direction="forward")),u.textContent=e.text,u.appendChild(g(e.prefixP<s.length?Math.min(m,m+e.prefixP):Math.min(m,d.length-e.skillP))),setTimeout(f,k)}let s="",c=2,o=1,m=5,k=75,v=["rgb(110,64,170)","rgb(150,61,179)","rgb(191,60,175)","rgb(228,65,157)","rgb(254,75,131)","rgb(255,94,99)","rgb(255,120,71)","rgb(251,150,51)","rgb(226,183,47)","rgb(198,214,60)","rgb(175,240,91)","rgb(127,246,88)","rgb(82,246,103)","rgb(48,239,130)","rgb(29,223,163)","rgb(26,199,194)","rgb(35,171,216)","rgb(54,140,225)","rgb(76,110,219)","rgb(96,84,200)"],e={text:"",prefixP:-m,skillI:0,skillP:0,direction:"forward",delay:c,step:o};f()}let l=n.getElementById("brief"),b=l.textContent.split("\\n");r(l,b)})(window,document);function M(t,n,r){t.addEventListener?t.addEventListener(n,r,!1):t.attachEvent?t.attachEvent("on"+n,r):t["on"+n]=r}window.onload=()=>{var t,n=document.querySelector(".sentence-sub"),r=document.querySelector(".sentence-progress-time"),l=document.querySelector(".sentence-hi"),b=document.querySelector(".sentence-from"),u=document.querySelector(".sentence-windows"),i=[],p=new Date().getTime();a(),g(),c();function a(){t=new XMLHttpRequest,t.open("GET","https://v1.hitokoto.cn/"),t.send(),t.onreadystatechange=function(){if(t.readyState===4&&t.status===200){var o=JSON.parse(t.responseText);l.innerHTML=o.hitokoto,b.innerHTML="From "+o.from.substr(0,12)}}}function g(){l.style.color=n.style.background=r.style.background=u.style.background=f()}function f(){return"rgb("+s()+","+s()+","+s()+")"}function s(){return Math.floor(Math.random()*81+60)}function c(){i[i.length]=setInterval(function(){r.style.left=r.style.left=="0%"?"100%":"0%",a(),g(),p=new Date().getTime()},12e3)}M(n,"click",function(){for(var o=0;o<i.length;o++)clearInterval(i[o]);i=[],a(),c()}),setTimeout(function(){r.style.left="100%"},200)};})();
